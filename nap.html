<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nạp Kim Cương</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white font-sans">

  <!-- Hướng dẫn -->
  <div class="p-4 text-sm">
    Hướng dẫn cài đặt và nạp tại <a href="#" class="text-blue-400 underline">đây</a><br>
    <span class="text-red-400">Dùng tài khoản thanh toán, bạn mới nhận được ưu đãi giảm 15% tới đa 50.000Đ...</span>
  </div>

  <!-- Bảng nạp kim cương -->
  <div class="p-4">
    <table class="w-full text-sm text-white">
      <thead>
        <tr class="text-gray-400 border-b border-gray-600">
          <th class="text-left py-2">Giá</th>
          <th class="text-left">Thêm điểm</th>
        </tr>
      </thead>
      <tbody>
        <tr><td><input type="radio" name="price" value="5000"> 5 000 ₫</td><td>Kim Cương × 25</td></tr>
        <tr><td><input type="radio" name="price" value="10000"> 10 000 ₫</td><td>Kim Cương × 51</td></tr>
        <tr><td><input type="radio" name="price" value="20000"> 20 000 ₫</td><td>Kim Cương × 113</td></tr>
        <tr><td><input type="radio" name="price" value="50000"> 50 000 ₫</td><td>Kim Cương × 283</td></tr>
        <tr><td><input type="radio" name="price" value="100000"> 100 000 ₫</td><td>Kim Cương × 566</td></tr>
        <tr><td><input type="radio" name="price" value="200000"> 200 000 ₫</td><td>Kim Cương × 1 132</td></tr>
        <tr><td><input type="radio" name="price" value="500000"> 500 000 ₫</td><td>Kim Cương × 2 830</td></tr>
        <tr><td><input type="radio" name="price" value="1000000"> 1 000 000 ₫</td><td>Kim Cương × 5 750</td></tr>
        <tr><td><input type="radio" name="price" value="2000000"> 2 000 000 ₫</td><td>Kim Cương × 11 500</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Phương thức thanh toán -->
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4 px-4">
    <label class="bg-gray-800 p-3 rounded text-center border cursor-pointer">
      <input type="radio" name="method" class="hidden" value="card"> <span>Thẻ điện thoại</span>
    </label>
    <label class="bg-gray-800 p-3 rounded text-center border cursor-pointer">
      <input type="radio" name="method" class="hidden" value="garena"> <span>Thẻ Garena</span>
    </label>
  </div>

  <!-- Form nạp thẻ -->
  <div class="px-4 py-6">
    <div class="grid gap-4">
      <select id="card-type" class="bg-gray-800 p-2 rounded border border-gray-600">
        <option value="">Chọn loại thẻ</option>
        <option value="Viettel">Viettel</option>
        <option value="Vinaphone">Vinaphone</option>
        <option value="Mobifone">Mobifone</option>
        <option value="Garena">Garena</option>
      </select>

      <select id="card-value" class="bg-gray-800 p-2 rounded border border-gray-600">
        <option value="">Chọn mệnh giá</option>
        <option value="10000">10.000đ</option>
        <option value="20000">20.000đ</option>
        <option value="50000">50.000đ</option>
        <option value="100000">100.000đ</option>
        <option value="200000">200.000đ</option>
        <option value="500000">500.000đ</option>
      </select>

      <input id="card-seri" type="text" placeholder="Nhập số seri" class="bg-gray-800 p-2 rounded border border-gray-600">
      <input id="card-code" type="text" placeholder="Nhập mã thẻ" class="bg-gray-800 p-2 rounded border border-gray-600">
      <input id="game-id" type="text" placeholder="Nhập ID game" class="bg-gray-800 p-2 rounded border border-gray-600">

      <button onclick="submitCard()" class="bg-red-600 hover:bg-red-700 p-2 rounded text-white font-semibold">Nạp kim cương</button>
    </div>
  </div>

  <script>
    function submitCard() {
      const type = document.getElementById('card-type').value;
      const value = document.getElementById('card-value').value;
      const seri = document.getElementById('card-seri').value;
      const code = document.getElementById('card-code').value;
      const gameId = document.getElementById('game-id').value;

      if (!type || !value || !seri || !code || !gameId) {
        alert("Vui lòng nhập đầy đủ thông tin!");
        return;
      }

      const payload = {
        telco: type,
        code: code,
        serial: seri,
        amount: value,
        content: gameId,
        request_id: Date.now().toString(),
        partner_id: "YOUR_PARTNER_ID",
        sign: "SIGN_HERE"
      };

      fetch("https://doithe1s.vn/api/card", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      })
      .then(res => res.json())
      .then(data => {
        alert("Nạp thành công: " + JSON.stringify(data));
      })
      .catch(err => {
        alert("Lỗi khi nạp thẻ!");
        console.error(err);
      });
    }
  </script>

</body>
</html>
